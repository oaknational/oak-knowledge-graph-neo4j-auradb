{
  "hasura_endpoint": "${HASURA_ENDPOINT}",
  "materialized_views": [
    "curriculum_units",
    "curriculum_lessons",
    "lesson_relationships"
  ],
  "node_mappings": [
    {
      "label": "Unit",
      "id_field": "unit_id",
      "properties": {
        "id": {
          "source_field": "unit_id",
          "target_type": "string"
        },
        "title": {
          "source_field": "unit_title",
          "target_type": "string"
        },
        "subject": {
          "source_field": "subject_name",
          "target_type": "string"
        },
        "key_stage": {
          "source_field": "key_stage",
          "target_type": "int"
        },
        "year_group": {
          "source_field": "year_group",
          "target_type": "string"
        },
        "created_at": {
          "source_field": "created_at",
          "target_type": "string"
        }
      }
    },
    {
      "label": "Lesson",
      "id_field": "lesson_id",
      "properties": {
        "id": {
          "source_field": "lesson_id",
          "target_type": "string"
        },
        "title": {
          "source_field": "lesson_title",
          "target_type": "string"
        },
        "slug": {
          "source_field": "lesson_slug",
          "target_type": "string"
        },
        "description": {
          "source_field": "lesson_description",
          "target_type": "string"
        },
        "order_in_unit": {
          "source_field": "order_in_unit",
          "target_type": "int"
        },
        "duration_minutes": {
          "source_field": "duration_minutes",
          "target_type": "int"
        },
        "created_at": {
          "source_field": "created_at",
          "target_type": "string"
        }
      }
    }
  ],
  "relationship_mappings": [
    {
      "type": "CONTAINS",
      "start_node_id_field": "unit_id",
      "end_node_id_field": "lesson_id",
      "properties": {
        "order": {
          "source_field": "order_in_unit",
          "target_type": "int"
        }
      }
    },
    {
      "type": "FOLLOWS",
      "start_node_id_field": "previous_lesson_id",
      "end_node_id_field": "next_lesson_id",
      "properties": {}
    }
  ]
}