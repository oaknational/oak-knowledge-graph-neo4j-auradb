{
  "_comments": {
    "materialized_views": "These are the columns extracted from Hasura MV",
    "filters": "Filters applied during data cleaning",
    "filters_example": {
      "subjectTitle": ["Science", "Maths"],
      "keyStageTitle": "Key Stage 1",
      "yearTitle": "Year 1"
    },
    "schema_mapping": "Mapping from CSV columns to Neo4j nodes and relationships"
  },
  
  "hasura_endpoint": "${HASURA_ENDPOINT}",
  "export_from_hasura": true,
  "import_to_neo4j": true,
  "materialized_views": {
    "published_mv_synthetic_unitvariant_lessons_by_keystage_18_0_0": [
      "features",
      "is_legacy",
      "lesson_data",
      "lesson_slug",
      "null_unitvariant_id",
      "order_in_unit",
      "programme_fields",
      "programme_subject: programme_fields(path: \"subject\")",
      "programme_subject_id: programme_fields(path: \"subject_id\")",
      "programme_subject_slug: programme_fields(path: \"subject_slug\")",
      "programme_subject_display_order: programme_fields(path: \"subject_display_order\")",
      "programme_slug",
      "programme_slug_by_year",
      "static_lesson_list",
      "unit_data",
      "unit_slug",
      "unitvariant_id"
    ]
  },

  "join_strategy": {
    "type": "single_source",
    "primary_mv": "published_mv_synthetic_unitvariant_lessons_by_keystage_18_0_0",
    "joins": []
  },
  "filters": {
    "isLegacy": false,
    "subjectTitle": ["Science", "Maths"],
    "keyStageTitle": "Key Stage 1",
    "yearTitle": "Year 1"
  },

  "test_limit": null,
  "clear_database_before_import": true,

  "schema_mapping": {

    "nodes": {

      "Subject": {
        "id_field": {
          "hasura_col": "programme_subject_slug",
          "type": "string",
          "property_name": "slug"
        },
        "properties": {
          "title": {
            "hasura_col": "programme_subject",
            "type": "string"
          },
          "displayOrder": {
            "hasura_col": "programme_subject_display_order",
            "type": "int"
          },
          "id": {
            "hasura_col": "programme_subject_id",
            "type": "string"
          }
        }
      }
    }
  }
}